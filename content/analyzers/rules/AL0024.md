# AL0024: Form and body conflict

An endpoint cannot have both `[FromForm]` and `[FromBody]` parameters.

## When it triggers

```csharp
// Error: Endpoint 'Submit' has both [FromForm] and [FromBody] parameters
public class Controller
{
    void Submit([FromForm] FormData form, [FromBody] JsonData body) { }  // AL0024
}
```

## Why this matters

An HTTP request body can only be consumed once:
- `[FromForm]` reads the body as `application/x-www-form-urlencoded` or `multipart/form-data`
- `[FromBody]` reads the body as JSON (or other serialized format)

Having both is physically impossibleâ€”the request body is a stream that can only be read once.

## How to fix

Choose one binding source based on your use case:

### Option 1: Form data (HTML forms, file uploads)
```csharp
public class FormData
{
    public string Name { get; set; }
    public IFormFile Attachment { get; set; }
}

public class Controller
{
    void Submit([FromForm] FormData form) { }
}
```

### Option 2: JSON body (API endpoints)
```csharp
public class JsonData
{
    public string Name { get; set; }
    public List<string> Items { get; set; }
}

public class Controller
{
    void Submit([FromBody] JsonData body) { }
}
```

### Option 3: Use query/route parameters with body
```csharp
public class Controller
{
    // Form fields via query string, JSON in body
    void Submit([FromQuery] string name, [FromBody] JsonData body) { }
}
```

## Configuration

```ini
[*.cs]
dotnet_diagnostic.AL0024.severity = error
```
